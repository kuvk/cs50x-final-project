{% extends "base/layout.html"%}

{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    {# Show password toggle CSS - Credits - https://github.com/coliff #}
    <link rel="stylesheet" href="{{ url_for('static', filename='node_modules/bootstrap-show-password-toggle/css/show-password-toggle.min.css') }}">
{% endblock css %}

{% block title %}
    Login
{% endblock title %}

{% block header %}
{# Login header #}
<header class="container-md justify-content-center text-center text-white align-center pb-3">
    <div class="pt-2 px-2 m-2">
        <i class="bi bi-book-half display-3"></i>
        <h1 class="mb-3 display-2 fw-bold">Book of Ingest</h2>
        <p class="display-6">Keep Ingest Logs and manage SD cards inventory for your project.</p>
    </div>
</header>
{% endblock header %}


{% block main %}
<div class="container-md justify-content-center text-center text-primary align-center">
    <div class="row justify-content-center align-center">
        <div class="col-11 col-sm-9 col-md-8 col-lg-7 mb-5 pb-5 pt-2 bg-white rounded shadow-lg" id="myLogin">
            {# Login Form #}
            <form action="/login" method="post" class="p-3" aria-describedby="loginHelp">
                {{ form.hidden_tag() }}
                <p class="mt-4 mb-2 p-1 mx-3" id="loginHelp"><strong>Please enter the credentials given by your organization and sign in.</strong></p>
                <div class="mt-4 mb-3">
                    <i class="bi bi-door-open display-3"></i>
                </div>
                    
                {# Flashed messages #}
                {% include "base/flashed_messages.html" %}
                
                <div class="row justify-content-center">
                    <div class="col-10 col-sm-7 col-lg-6 m-3">
                        {{ form.username(class="form-control mx-auto", placeholder="Username", autofocus="", autocomplete="username", aria_label="Username")}}
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-10 col-sm-7 col-lg-6 m-2">
                        <div class="input-group">
                            {{ form.password(class="form-control rounded mx-auto mb-2", placeholder="Password", autocomplete="current-password", aria_label="Password", spellcheck="false", autocorrect="off", autocapitalize="off",) }}
                            <button id="toggle-password" type="button" class="d-none"
                            aria-label="Show password as plain text. Warning: this will display your password on the screen.">
                            </button>
                        </div>
                    </div>
                </div>
                {{ form.sign_in(class="btn btn-primary mt-4 mb-1 shadow-sm", id="btn-login")}}
            </form>
        </div>
    </div>
</div>
{% endblock main %}

{% block footer %}
<footer>
    <div class="d-block justify-content-center text-center text-white mb-5">
        <div class="d-flex justify-content-center">
            <small>Â© 2023</small>
        </div>
        <div class="d-flex justify-content-center">
            <small><strong>CS50x Final Project</strong></small>
        </div>
    </div>
</footer>
{% endblock footer %}

{% block js %}
    {# Show password toggle JS - Credits - https://github.com/coliff #}
    <script type="module" src="{{ url_for('static', filename='node_modules/bootstrap-show-password-toggle/js/show-password-toggle.min.js') }}"></script>
{% endblock js %}
